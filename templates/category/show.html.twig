{% extends 'base.html.twig' %}

{% block title %}Category{% endblock %}

{% block body %}

    <div class="jumbotron">
        <h1>Category</h1>
        </br>
        <table class="table">
            <tbody>
                <tr>
                    <th>Id</th>
                    <td>{{ category.id }}</td>
                </tr>
                <tr>
                    <th>Name</th>
                    <td>{{ category.name }}</td>
                </tr>
                <tr>
                    <th>Description</th>
                    <td>{{ category.description }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <a href="{{ path('category_index') }}">back to list</a>

    <a href="{{ path('category_edit', {'id': category.id}) }}">edit</a>

    {{ include('category/_delete_form.html.twig') }}


    <br>
    <br>
    <h1>{{ category.name }}'s videos </h1>
    </br>
    {%  for video in category.videos %}
        <div class="container mt-4">
            <div class="col-md-8">

                <h2>{{ video.title }} :</h2>
                <table class="table table-striped">
                    <tr>
                        <td>The youtube video link</td>
                        <td>{{ video.link }}</td>
                    </tr>
                    <tr>
                        <td>Description</td>
                        <td>{{ video.description }}</td>
                    </tr>
                    <tr>
                        <td>Author</td>
                        <td>{{ video.author.firstName }} {{ video.author.lastName }}</td>
                    </tr>
                    <tr>
                        <td>Video:</td>
                        <td><iframe width="560" height="315" src="https://www.youtube.com/embed/{{ yt_key[video.title] }}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'
                        </td>
                    </tr>
                </table>

            </div>
        </div>
    {% endfor %}
{% endblock %}
